// This file is automatically generated, so please do not edit it.
// Generated by `flutter_rust_bridge`@ 2.0.0.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import '../frb_generated.dart';
import 'descriptor.dart';
import 'error.dart';
import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';
import 'types.dart';

// These functions are ignored because they are not marked as `pub`: `get_txout`, `get_wallet`

// Rust type: RustOpaqueNom<Mutex < lwk_wollet :: Wollet >>
abstract class MutexWollet implements RustOpaqueInterface {}

class Wallet {
  final MutexWollet inner;

  const Wallet({
    required this.inner,
  });

  Future<Address> address({required int index}) => LwkCore.instance.api
      .crateApiWalletWalletAddress(that: this, index: index);

  Future<Address> addressLastUnused() =>
      LwkCore.instance.api.crateApiWalletWalletAddressLastUnused(
        that: this,
      );

  Future<List<Balance>> balances() =>
      LwkCore.instance.api.crateApiWalletWalletBalances(
        that: this,
      );

  Future<String> blindingKey() =>
      LwkCore.instance.api.crateApiWalletWalletBlindingKey(
        that: this,
      );

  static Future<String> broadcastTx(
          {required String electrumUrl, required List<int> txBytes}) =>
      LwkCore.instance.api.crateApiWalletWalletBroadcastTx(
          electrumUrl: electrumUrl, txBytes: txBytes);

  Future<String> buildAssetTx(
          {required BigInt sats,
          required String outAddress,
          required double feeRate,
          required String asset}) =>
      LwkCore.instance.api.crateApiWalletWalletBuildAssetTx(
          that: this,
          sats: sats,
          outAddress: outAddress,
          feeRate: feeRate,
          asset: asset);

  Future<String> buildLbtcTx(
          {required BigInt sats,
          required String outAddress,
          required double feeRate,
          required bool drain}) =>
      LwkCore.instance.api.crateApiWalletWalletBuildLbtcTx(
          that: this,
          sats: sats,
          outAddress: outAddress,
          feeRate: feeRate,
          drain: drain);

  Future<PsetAmounts> decodeTx({required String pset}) =>
      LwkCore.instance.api.crateApiWalletWalletDecodeTx(that: this, pset: pset);

  Future<String> descriptor() =>
      LwkCore.instance.api.crateApiWalletWalletDescriptor(
        that: this,
      );

  static Future<Wallet> init(
          {required Network network,
          required String dbpath,
          required Descriptor descriptor}) =>
      LwkCore.instance.api.crateApiWalletWalletInit(
          network: network, dbpath: dbpath, descriptor: descriptor);

  Future<Uint8List> signTx(
          {required Network network,
          required String pset,
          required String mnemonic}) =>
      LwkCore.instance.api.crateApiWalletWalletSignTx(
          that: this, network: network, pset: pset, mnemonic: mnemonic);

  Future<String> signedPsetWithExtraDetails(
          {required Network network,
          required String pset,
          required String mnemonic}) =>
      LwkCore.instance.api.crateApiWalletWalletSignedPsetWithExtraDetails(
          that: this, network: network, pset: pset, mnemonic: mnemonic);

  Future<void> sync({required String electrumUrl}) => LwkCore.instance.api
      .crateApiWalletWalletSync(that: this, electrumUrl: electrumUrl);

  Future<List<Tx>> txs() => LwkCore.instance.api.crateApiWalletWalletTxs(
        that: this,
      );

  Future<List<TxOut>> utxos() => LwkCore.instance.api.crateApiWalletWalletUtxos(
        that: this,
      );

  @override
  int get hashCode => inner.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is Wallet &&
          runtimeType == other.runtimeType &&
          inner == other.inner;
}
